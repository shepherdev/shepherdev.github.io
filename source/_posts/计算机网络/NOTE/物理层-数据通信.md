---
title: 物理层-数据通信
date: 2020-3-22 13:00
author: shepherd
toc: true
mathJax: true
categories: [计算机网络,NOTE]
tags: [带宽,时延,多路复用,数据传输]
---

> 参考[南京邮电大学的网络技术与应用课](https://www.icourse163.org/learn/NJUPT-1001639008?tid=1450250444#/learn/announce)与Andrew S. Tanenbaum与David J. Wetherall的计算机网络（第五版）

## 1.基本概念

### 1.1信号、数据和信号

数据通信的目的就是交换信息，而数据就是信息的载体，数据又分为模拟数据（连续）和数字数据（离散，如01），它两个之间可以互相转换；信号就是数据在传输过程中的电磁波编码，同样分为模拟信号（连续的电磁波）和数字信号（电压脉冲）

<!-- more -->

### 1.2数据通信系统

![](https://cdn.jsdelivr.net/gh/shepherdev/blog_image/article/2020/communication-system.png)

### 1.3技术指标

#### 1.3.1传输速率

**传码速率**

又称为调制速率、波特率，指每秒传输信号码元的个数，记作$N_{Bd}$，单位波特（Baud）

携带数据信息的信号脉冲就叫信号码元，一个信号脉冲可以代表多个0，1的组合

![二电平](https://cdn.jsdelivr.net/gh/shepherdev/blog_image/article/2020/二电平.png)

在上述二电平图中，信号码元的持续时间是$T$，所以传码速率是$\Large\frac{1}{T}$

**传信速率**

又叫比特率，记作$R_b$，单位bit/s、kbit/s…

**两者关系**
$$
R_b=N_{Bd}\times\log_2 M(M表示电平)
$$

在二电平中（一次脉冲传输1bit），波特率和比特率数值相等

#### 1.3.2信号带宽

带宽（bandwidth）本来是指某个信号的频带宽度（范围），单位Hz、KHz、MHz（频率域）

在传输数据时，把带宽作为数字信道的数据传输速率，此时单位就是bit/s、Kbit/s（时间域）

两者本质一样

#### 1.3.3误码率和误组率

**误码率**

指在一定时间内接收到出错的bit数与传输的总bit数之比，是评定传输质量的一项指标

$$
P_e=\frac{e_1}{e_2}\times100\%
$$

**误组率**

因为在数据块结构和帧结构的控制下，误码率不能不能确切知道它的差错造成的影响，一般用误组率表示通信质量
$$
P_b=\frac{b_1}{b_2}\times100\%
$$

#### 1.3.4时延

delay指一个分组从一条链路的一端到另一端需要的时间，这个时间由几个不同的部分组成

(1)**发送时延**

节点发送数据到传输媒体（网卡，路由）使用的时间，计算公式
$$
发送时延=\frac{数据长度bit}{信道带宽b/s}
$$
信道带宽又叫发送速率，传输速率

(2)**传播时延**

指的是电磁波在信道中传播一定的距离所发送的时间，也就是路由器到路由器时间，公式
$$
传播时延=\frac{信道长度m}{传播速度m/s}
$$
(3)**处理时延**

指数据在交换节点储存-转发的时间，在节点的缓存队列中排队所经历的时间是处理时延的主要部分
$$
总时延=发送时延+传播时延+处理时延
$$

> 一般只考虑前面两种时延，大文件主要考虑发送时延，小文件考虑传播时延

#### 1.3.5信道容量

指在一定条件下（误码，带宽，噪声），在通信路径(信道)所能达到大数据传输速率

分有无噪声的情况分析

- 奈奎斯特准则：在理想条件下，带宽为$W$Hz的信道，传码速率最高为2$W$波特
  - 公式：$C=2Wlog_2 M$
- 香农定理：在有噪声的环境中，信道容量与信噪功率比($S/N$)有关
  - 公式1：$C=2W\log_2\small{(1+S/N)}$
  - 公式2：$dB=10log_{10}\small({信号功率P_S/噪声功率P_N})$
  - 它告诉我们在信道容量不变时可以增加带宽就可以降低信噪比

### 1.4传输介质

有线的传输介质有双绞线、同轴线缆、光纤等

无线的传输介质有无线电波、地面微波、卫星微波、红外线等

## 2.多路复用技术

指在一条通信线路中传输多路信号，提高传输媒介利用率

### 2.1频分复用

FDM（Frequency Division Multiplexing）利用的是通信线路的可用带宽超过需要的带宽（这里指Hz），则可以将信号以不同的载波频率进行调制（不能重叠），使每个信号都有一个独立的信道传输

也就是说在相同时间内占用不同的频率带宽

### 2.2时分复用

TDM（Time Division Multiplexing）是一种固定分配资源的方式，将传输时间分成多个片段，每个用户分得一个片段，一组时间片叫作帧

在不同时间内占用相同的频率带宽

> 上面两种技术的用户会一直占用信道资源，因此对信道利用率都不高

### 2.3统计时分复用

STDM（Statistical Time Division Multiplexing）与时分复用相同的是信道是按时间片分配的，不同的是时间片是动态分配的，每个用户的数据传输速率最高可以达到该线路总的传输能力

### 2.4波分复用

WDM（Wavelength Division Multiplexing）与FDM类似，指的是在一条光纤内传输多路不同波长的光信号

### 2.5码分复用

CDM（Coding Division Multiplexing）指的是每个用户有一个单独的码片序列（所有码片必须正交）

- 当发送1时，就发送原序列
- 发送0时，发送补码序列
- 什么都不做时就是0

将所有信号相加得到发送信号，接收端使用某个用户的码片序列和接收到的信号即可得到这个用户发送的信息

例如

| 用户 | 码片序列           | 发送信号      |
| ---- | ------------------ | ------------- |
| A    | ( 0 1 0 1 )，发送1 | (-1 +1 -1 +1) |
| B    | ( 0 0 1 1 )，发送0 | (+1 +1 -1 -1) |
| C    | ( 0 0 0 0 )，发送1 | (-1 -1 -1 -1) |

将上面的序列相加得到发送信号(-1 +1 -3 -1)

| 用户 | 计算                                                   | 数据 |
| :--- | :----------------------------------------------------- | :--- |
| A    | $\frac{1}{4}\times(-1 +1 -3 -1)\times(-1 +1 -1 +1)=+1$ | 1    |
| B    | $\frac{1}{4}\times(-1 +1 -3 -1)\times(-1 -1 +1 +1)=-1$ | 0    |
| C    | $\frac{1}{4}\times(-1 +1 -3 -1)\times(-1 -1 -1 -1)=+1$ | 1    |


